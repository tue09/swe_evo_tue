v2023.08.0 (Aug 18, 2023)
-------------------------

This release brings changes to minimum dependencies, allows reading of datasets where a dimension name is
associated with a multidimensional variable (e.g. finite volume ocean model output), and introduces
a new :py:class:`xarray.Coordinates` object.

Thanks to the 16 contributors to this release: Anderson Banihirwe, Articoking, Benoit Bovy, Deepak Cherian, Harshitha, Ian Carroll,
Joe Hamman, Justus Magin, Peter Hill, Rachel Wegener, Riley Kuttruff, Thomas Nicholas, Tom Nicholas, ilgast, quantsnus, vallirep

Announcements
~~~~~~~~~~~~~

The :py:class:`xarray.Variable` class is being refactored out to a new project title 'namedarray'.
See the `design doc <https://github.com/pydata/xarray/blob/main/design_notes/named_array_design_doc.md>`_ for more
details. Reach out to us on this [discussion topic](https://github.com/pydata/xarray/discussions/8080) if you have any thoughts.

New Features
~~~~~~~~~~~~

- :py:class:`Coordinates` can now be constructed independently of any Dataset or
  DataArray (it is also returned by the :py:attr:`Dataset.coords` and
  :py:attr:`DataArray.coords` properties). ``Coordinates`` objects are useful for
  passing both coordinate variables and indexes to new Dataset / DataArray objects,
  e.g., via their constructor or via :py:meth:`Dataset.assign_coords`. We may also
  wrap coordinate variables in a ``Coordinates`` object in order to skip
  the automatic creation of (pandas) indexes for dimension coordinates.
  The :py:class:`Coordinates.from_pandas_multiindex` constructor may be used to
  create coordinates directly from a :py:class:`pandas.MultiIndex` object (it is
  preferred over passing it directly as coordinate data, which may be deprecated soon).
  Like Dataset and DataArray objects, ``Coordinates`` objects may now be used in
  :py:func:`align` and :py:func:`merge`.
  (:issue:`6392`, :pull:`7368`).
  By `Benoît Bovy <https://github.com/benbovy>`_.
- Visually group together coordinates with the same indexes in the index section of the text repr (:pull:`7225`).
  By `Justus Magin <https://github.com/keewis>`_.
- Allow creating Xarray objects where a multidimensional variable shares its name
  with a dimension. Examples include output from finite volume models like FVCOM.
  (:issue:`2233`, :pull:`7989`)
  By `Deepak Cherian <https://github.com/dcherian>`_ and `Benoit Bovy <https://github.com/benbovy>`_.
- When outputting :py:class:`Dataset` objects as Zarr via :py:meth:`Dataset.to_zarr`,
  user can now specify that chunks that will contain no valid data will not be written.
  Originally, this could be done by specifying ``"write_empty_chunks": True`` in the
  ``encoding`` parameter; however, this setting would not carry over when appending new
  data to an existing dataset. (:issue:`8009`) Requires ``zarr>=2.11``.


Breaking changes
~~~~~~~~~~~~~~~~

- The minimum versions of some dependencies were changed (:pull:`8022`):

  ===================== =========  ========
   Package                    Old      New
  ===================== =========  ========
   boto3                     1.20     1.24
   cftime                     1.5      1.6
   dask-core               2022.1   2022.7
   distributed             2022.1   2022.7
   hfnetcdf                  0.13      1.0
   iris                       3.1      3.2
   lxml                       4.7      4.9
   netcdf4                  1.5.7    1.6.0
   numpy                     1.21     1.22
   pint                      0.18     0.19
   pydap                      3.2      3.3
   rasterio                   1.2      1.3
   scipy                      1.7      1.8
   toolz                     0.11     0.12
   typing_extensions          4.0      4.3
   zarr                      2.10     2.12
   numbagg                    0.1    0.2.1
  ===================== =========  ========


Documentation
~~~~~~~~~~~~~

- Added examples to docstrings of :py:meth:`Dataset.assign_attrs`, :py:meth:`Dataset.broadcast_equals`,
  :py:meth:`Dataset.equals`, :py:meth:`Dataset.identical`, :py:meth:`Dataset.expand_dims`,:py:meth:`Dataset.drop_vars`
  (:issue:`6793`, :pull:`7937`) By `Harshitha <https://github.com/harshitha1201>`_.
- Add docstrings for the :py:class:`Index` base class and add some documentation on how to
  create custom, Xarray-compatible indexes (:pull:`6975`)
  By `Benoît Bovy <https://github.com/benbovy>`_.
- Added a page clarifying the role of Xarray core team members.
  (:pull:`7999`) By `Tom Nicholas <https://github.com/TomNicholas>`_.
- Fixed broken links in "See also" section of :py:meth:`Dataset.count` (:issue:`8055`, :pull:`8057`)
  By `Articoking <https://github.com/Articoking>`_.
- Extended the glossary by adding terms Aligning, Broadcasting, Merging, Concatenating, Combining, lazy,
  labeled, serialization, indexing (:issue:`3355`, :pull:`7732`)
  By `Harshitha <https://github.com/harshitha1201>`_.

Internal Changes
~~~~~~~~~~~~~~~~

- :py:func:`as_variable` now consistently includes the variable name in any exceptions
  raised. (:pull:`7995`). By `Peter Hill <https://github.com/ZedThree>`_
- :py:func:`encode_dataset_coordinates` now sorts coordinates automatically assigned to
  `coordinates` attributes during serialization (:issue:`8026`, :pull:`8034`).
  `By Ian Carroll <https://github.com/itcarroll>`_.